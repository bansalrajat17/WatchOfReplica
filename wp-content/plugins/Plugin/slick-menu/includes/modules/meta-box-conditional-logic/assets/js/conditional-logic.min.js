!function($){"use strict";function checkCompareStatement(e,t,n){switch(null!==e&&"undefined"!=typeof e||(e=""),n){case"=":return $.isArray(e)&&$.isArray(t)?0===$(e).not(t).length&&0===$(t).not(e).length:e==t;case">=":return e>=t;case">":return e>t;case"<=":return t>=e;case"<":return t>e;case"contains":if($.isArray(e))return $.inArray(t,e)>-1;if("string"==$.type(e))return e.indexOf(t)>-1;case"in":if($.isArray(e)){var i=!1;return $.each(e,function(e,n){$.isNumeric(n)&&(n=parseInt(n)),t.indexOf(n)>-1&&(i=!0)}),i}return t.indexOf(e)>-1;case"start_with":return 0===e.indexOf(t);case"starts with":return 0===e.indexOf(t);case"end_with":return t=new RegExp(t+"$"),t.test(e);case"ends with":return t=new RegExp(t+"$"),t.test(e);case"match":return t=new RegExp(t),t.test(e);case"between":if($.isArray(t)&&"undefined"!=typeof t[0]&&"undefined"!=typeof t[1])return checkCompareStatement(e,t[0],">=")&&checkCompareStatement(e,t[1],"<=")}}function getFieldValue(fieldName,$scope,target){if(checkCompareStatement(fieldName,"(","contains"))return eval(fieldName);if($(target).find("#"+fieldName).length&&"checkbox"!==$(target).find("#"+fieldName).attr("type")&&"undefined"!=typeof $(target).find("#"+fieldName).val()&&null!=$(target).find("#"+fieldName).val()&&""==$scope&&(fieldName="#"+fieldName),checkCompareStatement(fieldName,"#","start_with")&&"checkbox"!==$(target).find(fieldName).attr("type")&&"undefined"!=typeof $(target).find(fieldName).val()&&null!=$(target).find(fieldName).val()&&""==$scope)return $(fieldName).val();var selector=guessSelector(fieldName,target);if(null!==selector){var selectorType=$(selector).attr("type");if($.inArray(selectorType,["text","file"])>-1)return""==$scope?$(selector).val():$scope.find(selector).val();if($.inArray(selectorType,["checkbox","radio","hidden"])>-1){var arr=[],elements=[];return elements="hidden"!==selectorType||"post_category"===fieldName||checkCompareStatement(selector,"tax_input","contains")?""!=$scope?$scope.find(selector+":checked"):$(selector+":checked"):""!=$scope?$scope.find(selector):$(selector),elements.length>1&&"radio"!=selectorType?elements.each(function(){arr.push($(this).val())}):arr=1===elements.length?elements.val():0,arr}return""==$scope?$(selector).val():$scope.find(selector).val()}return 0}function isLogicCorrect(e,t,n){var i="undefined"!=typeof e.relation?e.relation:"and",a="and"==i;return $.each(e.when,function(e,r){var c=$(guessSelector(r[0],n)).closest(".sm-rwmb-field").attr("data-visible");if("hidden"==c)a="hidden";else{if(""!=t){var s=guessSelector(r[0],n);t.find(s).length||(t="")}var o=getFieldValue(r[0],t,n),l=r[1],d=r[2],f=!1,m=!1;$.isArray(o)&&1===o.length&&(o=o[0]),(checkCompareStatement(l,"not","contains")||checkCompareStatement(l,"!","contains"))&&(m=!0,l=l.replace("not",""),l=l.replace("!","")),l=l.trim(),$.isNumeric(o)&&(o=parseInt(o)),f=checkCompareStatement(o,d,l),m&&(f=!f),a="and"===i?a&&f:a||f}}),a}function runConditionalLogic(e){var t=function(n,i){var a=$(n),r=a.data("conditions"),c="undefined"!=typeof r.hidden?"hidden":"visible",s=r[c],o="";a.parents().hasClass("sm-rwmb-clone")&&(o=a.parents(".sm-rwmb-clone"));var l=isLogicCorrect(s,o,e),d=a.parent().hasClass("sm-rwmb-field")?a.parent():a.parents(".postbox");if(l===!0?"visible"==c?applyVisible(d):applyHidden(d):l===!1?"visible"==c?applyHidden(d):applyVisible(d):"hidden"===l&&applyHidden(d),!i){var f;$.each(s.when,function(i,a){checkCompareStatement(a[0],"(","contains")||(f=guessSelector(a[0],e),$(f).on("change keyup click",function(){t(n,!0)}))})}};$(e).find(".sm-rwmb-conditions").each(function(){t(this,!1)})}function runOutsideConditionalLogic(e){var t=function(n,i){$.each(i,function(a,r){if("undefined"!=typeof r.when){var c=guessSelector(n,e),s=isLogicCorrect(r,"",e);if(s===!0?"visible"==a?applyVisible($(c)):applyHidden($(c)):s===!1?"visible"==a?applyHidden($(c)):applyVisible($(c)):"hidden"===s&&applyHidden($(c)),!skipEvents){var o;$.each(r.when,function(a,r){checkCompareStatement(r[0],"(","contains")||(o=guessSelector(r[0],e),$(o).on("change keyup click",function(){t(n,i,!0)}))})}}})};$.each(window.conditions,function(e,n){t(e,n,!1)})}function guessSelector(e,t){if(checkCompareStatement(e,"(","contains"))return null;var n=$(t).attr("id");if(n=n?"#"+n+" ":"",$(t).find(e).length||isUserDefinedSelector(e))return n+e;try{if($(t).find("#"+e).length&&"checkbox"!==$(t).find("#"+e).attr("type")&&!$(t).find("#"+e).attr("name"))return n+e;if($(t).find('[name="'+e+'"]').length)return n+'[name="'+e+'"]';if($(t).find('[name^="'+e+'"]').length)return n+'[name^="'+e+'"]';if($(t).find('[name*="'+e+'"]').length)return n+'[name*="'+e+'"]'}catch(i){console.log(i)}}function isUserDefinedSelector(e){return checkCompareStatement(e,".","starts with")||checkCompareStatement(e,"#","starts with")||checkCompareStatement(e,"[name","contains")||checkCompareStatement(e,">","contains")||checkCompareStatement(e,"*","contains")||checkCompareStatement(e,"~","contains")}function applyVisible(e){e.closest(".sm-rwmb-field").length&&(e=e.closest(".sm-rwmb-field")),e.hasClass("sm-rwmb-column")?e.css("visibility","visible"):e.show(),e.attr("data-visible","visible")}function applyHidden(e){e.closest(".sm-rwmb-field").length&&(e=e.closest(".sm-rwmb-field")),e.hasClass("sm-rwmb-column")?e.css("visibility","hidden"):e.hide(),e.attr("data-visible","hidden")}var conditions=window.conditions,appliedConditions=[],target="body";runConditionalLogic(target),runOutsideConditionalLogic(target),$(document).on("sm_mb_init_events",function(e,t){var n=t.target;runConditionalLogic(n)})}(jQuery);