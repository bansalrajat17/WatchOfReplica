!function(i){"use strict";var e={};e.global={init:function(){this.initLoading()},initLoading:function(){i(".slick-menu-debug-box").each(function(){i(this).appendTo("#wpcontent")}),i("html").addClass("sm-admin-loaded")}},e.metabox={init:function(){var e=this;e.initEvents("body"),i(document).on("sm_mb_init_events",function(i,n){e.initEvents(n.target)})},initEvents:function(n){i(n).find(".sm-rwmb-tabs").each(function(n){var t=i(this),a="sm_rwmb_tabs_"+n+"_active_tab";if(t.find(".sm-rwmb-tab-nav").on("mouseup","a",function(n){var t=i(this).parent(),o=t.data("panel");e.cookie.set(a,o)}),e.cookie.exists(a)){var o=e.cookie.get(a),c=t.find('li[data-panel="'+o+'"] a');setTimeout(function(){c.trigger("click"),c.trigger("mouseup")},1)}})}},e.license={init:function(){var e=this,n=function(){e.initLicenseForm(i(this))};i(".sm-license-activation").each(n)},initLicenseForm:function(e){function n(i){"valid"===i.code?c(i):"exists"===i.code?t(i):"revoked"===i.code?a(i):s(i)}function t(i){m.hide(),p.hide(),_.hide(),g.hide(),v.hide(),h.fadeIn(),h.find('input[name="purchase_code"]').val(i.license.purchase_code),b.html(i.license_summary).fadeIn()}function a(i){o(),b.empty().hide(),_.html(i.msg),_.fadeIn(),v.hide()}function o(){b.empty().hide(),h.hide(),v.hide(),p.hide(),_.hide(),g.hide(),m.fadeIn()}function c(e){h.hide(),m.hide(),_.hide(),g.hide(),p.fadeIn(),v.fadeIn(),b.html(e.license_summary).fadeIn(),v.find('[name="purchase_code"]').val(e.license.purchase_code),i(document).trigger("sm-license-activated",[e.license,e.license_summary,b])}function s(){h.hide(),m.hide(),_.hide(),v.hide(),p.hide(),g.fadeIn();var i=3;k.html(i),i--;var e=setInterval(function(){0===i?(k.empty(),clearInterval(e),o()):(k.html(i),i--)},1e3)}var d=i(e).data("id"),r=i(e).data("homeurl"),l=i(e).data("domain"),f=i(e).data("ajaxurl"),u=i(e).find(".sm-license-form"),m=i(e).find("#sm-license-activation-form"),h=i(e).find("#sm-license-revoke-form"),v=i(e).find("#sm-license-local-revoke-form"),p=i(e).find("#sm-license-activated"),g=i(e).find("#sm-license-invalid"),b=i(e).find(".sm-license-info"),_=i(e).find(".sm-license-revoke-info"),k=i(e).find(".sm-license-timer");u.each(function(){var e=i(this);e.find('input[type="submit"]').on("click",function(t){t.preventDefault();var a=i(this),o=a.val();a.val("Processing..."),a.attr("disabled",!0);var c=e.find('input[name="action"]').val();if(c==="sm_license_activation_"+d){var s=""!==l?l:location.host.replace("www.",""),u=r;e.find('input[name="domain"]').val(s),e.find('input[name="installation_url"]').val(u)}var m=e.find(":input").serialize();i.ajax({cache:!1,url:f,type:"POST",data:m,dataType:"json"}).done(function(i){n(i),a.val(o),a.removeAttr("disabled")}).fail(function(i){alert("Something went wrong! Please try again later!"),a.val(o),a.removeAttr("disabled")})})}),h.find(".sm-license-revoke-cancel").on("click",function(i){i.preventDefault(),o()})}},e.popup={init:function(){i(".sm-popup").each(function(){var e=!0;i(this).on("click",function(n){n.preventDefault();var t=i(this),a=t.data("target");i(a).fadeIn(),e&&(i(a).find(".sm-popup-inner").on("click",function(i){i.stopPropagation()}),i(window).on("click",function(){i(a).fadeOut()}),e=!1),n.stopPropagation()})})}},e.cookie={get:function(i){for(var e=i+"=",n=document.cookie.split(";"),t=0;t<n.length;t++){for(var a=n[t];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(e))return a.substring(e.length,a.length)}return""},set:function(i,e,n){var t=new Date;t.setTime(t.getTime()+24*n*60*60*1e3);var a="expires="+t.toUTCString();document.cookie=i+"="+e+"; "+a},exists:function(i){var e=this.get(i);return""!==e}},i(document).ready(function(){e.global.init(),e.metabox.init(),e.license.init(),e.popup.init()})}(jQuery);